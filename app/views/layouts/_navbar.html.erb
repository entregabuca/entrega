<% if current_page?(root_path) %>
  <nav class="navbar navbar-expand-md home-navbar navbar-dark "> 
<% else %>
  <nav class="navbar navbar-expand-md navbar-others navbar-dark "> <%#<nav class="navbar-expand-md will expand from medium screen size up %>
<% end %>

<%# Brand %>
<a class = 'navbar-brand' href='/'>Listis</a>
<%# Toggle button %>
  <button class="navbar-toggler navbar-toggler-right custom-toggler " type="button" data-toggle="collapse" data-target="#collapsingnavbar" aria-controls="collapsingnavbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <div class="collapse navbar-collapse" id="collapsingnavbar">
      <ul class="navbar-nav mr-auto"> <!--DONE TO PLACE THE SIGNS INSIDE THE DROP DOWN-->
        <li class="nav-item">
          <%= link_to 'Home', root_path, class: "nav-link #{yield(:home_active)}" %>  <!--pages_home_path -->
        </li>
        <li class="nav-item">
          <%= link_to 'Contact', new_form_message_path, class: "nav-link #{yield(:contact_active)}" %>
        </li>        
        <li class="nav-item">
          <%= link_to 'Improvements', improvements_path, class: "nav-link #{yield(:improvements_active)}" %>
         </li><% if user_signed_in? %>
          <li class="nav-item">
            <%= link_to 'My Lists', lists_path, class: "nav-link #{yield(:list_active)}" %>
          </li>
        <% end %>
      <!--< /ul> -->
     
      
<!-- <div class="d-flex justify-content-end" >  -->          
      <% if user_signed_in? %>
<!-- Dropdown -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <% if !current_user.first_name.blank? %>    
            <%= current_user.first_name%>      
          <% else %>
            <%= current_user.email%> 
          <% end %> 
          <%#= render 'navbar_usersigned_in_logic', current_user: current_use CHECK HOW TO MOVE IT TO A PARTIAL%>
        </a>      
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <%= link_to 'Edit User', edit_user_registration_path, class: "nav-link #{yield(:edit_user_active)}" %>
           <%= link_to "Logout", destroy_user_session_path, method: :delete,class: "nav-link" %>
        </div>
      </li>
<!-- Dropdown -->         
      <% else %>
           <li class="nav-item">
         <%= link_to 'Sing up', new_user_registration_path, class: "nav-link #{yield(:sign_up_active)}" %>
        </li>
        <li class="nav-item">
          <%= link_to 'Sing in', new_user_session_path, class: "nav-link #{yield(:sign_in_active)}" %>
        </li>
      <% end %>  
      </ul>        
    </div>      
</nav>